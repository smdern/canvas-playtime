// Generated by CoffeeScript 1.4.0
(function() {
  var Box, Game,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  Box = (function() {

    Box.prototype.defaultOptions = {
      x: 0,
      y: 0,
      width: 10,
      height: 10,
      fillStyle: 'black'
    };

    function Box(args) {
      this.draw = __bind(this.draw, this);

      var _this = this;
      _.defaults(args, this.defaultOptions);
      _.each(['x', 'y', 'width', 'height', 'fillStyle'], function(option) {
        return _this[option] = args[option];
      });
    }

    Box.prototype.draw = function(context) {
      context.fillStyle = this.fillStyle;
      context.beginPath();
      context.rect(this.x, this.y, this.width, this.height);
      context.closePath();
      return context.fill();
    };

    return Box;

  })();

  Game = (function() {

    function Game() {
      this.clear = __bind(this.clear, this);

      this.animate = __bind(this.animate, this);

      var $canvas;
      $canvas = $('canvas');
      this.context = $canvas[0].getContext('2d');
      this.width = $canvas.width();
      this.height = $canvas.height();
      this.box = new Box({
        x: 100,
        y: 150,
        fillStyle: this.colors.green,
        width: 200
      });
      this.requestAnimationFrame = this.getAnimationRequest();
    }

    Game.prototype.colors = {
      green: "#33A534",
      black: "#000000",
      red: "#FF2600"
    };

    Game.prototype.getAnimationRequest = function() {
      return window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;
    };

    Game.prototype.animate = function() {
      this.clear();
      this.box.draw(this.context);
      return this.requestAnimationFrame.call(window, this.animate);
    };

    Game.prototype.clear = function() {
      return this.context.clearRect(0, 0, this.width, this.height);
    };

    return Game;

  })();

  $(document).ready(function() {
    var PlayTime;
    PlayTime = {};
    PlayTime.game = new Game();
    return PlayTime.game.animate();
  });

}).call(this);
